{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Manuel Fernando/Documents/GitHub/PruebaLegger/from/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Manuel Fernando/Documents/GitHub/PruebaLegger/from/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Manuel Fernando\\\\Documents\\\\GitHub\\\\PruebaLegger\\\\from\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from\"react\";import{Form,Row,Col,Container,View}from'react-bootstrap';import ButtonCuston from'../../atoms/Button/Button';import FormGroup from'../../molecules/FormGroup/FormGroup';import FormSelect from'../../atoms/FormSelect/FormSelect';import axios from'axios';import{ExportReactCSV}from'../../molecules/excel/ExportReactCSV';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Todo(props){var _this=this;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),NombreCliente=_useState2[0],setNombreCliente=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Nit=_useState4[0],setNit=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),NombreDelPunto=_useState6[0],setNombreDelPunto=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),NombreDelEquipo=_useState8[0],setNombreDelEquipo=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),Ciudad=_useState10[0],setCiudad=_useState10[1];var _useState11=useState([{value:\"Bogota D.C\",text:\"Bogota D.C\"},{value:\"Tarqui\",text:\"Tarqui\"},{value:\"Garzon\",text:\"Garzon\"}]),_useState12=_slicedToArray(_useState11,2),dataCiudad=_useState12[0],setDataCiudad=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),Promotor=_useState14[0],setPromotor=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),RTC=_useState16[0],setRTC=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),Capitan=_useState18[0],setCapitan=_useState18[1];var _useState19=useState(true),_useState20=_slicedToArray(_useState19,2),estadoFormulario=_useState20[0],setEstadoFormulario=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),ip=_useState22[0],setIP=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),excel=_useState24[0],setExcel=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),check=_useState26[0],setCheck=_useState26[1];var isLoading=false;var rtc=function rtc(data){if(data.target.value<0){setRTC(\"\");}else if(Number.isInteger(data.target.value)){setRTC(\"\");}else{setRTC(data.target.value.replace(/[^0-9\\d]/ig,\"\"));}console.log(data.target.value.replace(/[^0-9\\d]/ig,\"\"));};var getip=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://geolocation-db.com/json/');case 2:res=_context.sent;console.log(res.data.IPv4);setIP(res.data.IPv4);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getip(){return _ref.apply(this,arguments);};}();useEffect(function(){getip();},[]);var validar=function validar(){if(NombreCliente==\"\"){alert(\"El Nombre Cliente no puede ser vacio\");return false;}else if(Nit==\"\"){alert(\"El Nit no puede ser vacio\");return false;}else if(check==undefined){alert(\"Tienes que aceptar los terminos y condiciones.\");return false;}else{return true;}};var enviar=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var requestOptions;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(check);if(!validar()){_context2.next=9;break;}setEstadoFormulario(false);setExcel(customers());requestOptions={method:'POST',headers:new Headers({'Content-Type':'application/x-www-form-urlencoded'}),body:\"NombreCliente=\"+NombreCliente+\"&\"+\"NIT=\"+Nit+\"&\"+\"NombreDelPunto=\"+NombreDelPunto+\"&\"+\"NombreDelEquipo=\"+NombreDelEquipo+\"&\"+\"Ciudad=\"+Ciudad+\"&\"+\"Promotor=\"+Promotor+\"&\"+\"RTC=\"+RTC+\"&\"+\"Capitan=\"+Capitan};_context2.next=7;return fetch('http://127.0.0.1/',requestOptions).then(function(response){return response.json();}).then(function(res){if(res.success){console.log(res);}else{//mensaje de error\n}});case 7:_context2.next=9;break;case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function enviar(_x){return _ref2.apply(this,arguments);};}();var customers=function customers(){var custs=[];for(var i=0;i<1;i++){custs.push({NombreCliente:NombreCliente,Nit:Nit,NombreDelPunto:NombreDelPunto,NombreDelEquipo:NombreDelEquipo,Ciudad:Ciudad,Promotor:Promotor,RTC:RTC,Capitan:Capitan,ip:ip});}console.log(custs);return custs;};return/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:!estadoFormulario?\"\":\"none\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{children:\"Gracias\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 center\",children:/*#__PURE__*/_jsx(ExportReactCSV,{csvData:excel,fileName:\"DatosUsuario\"})})]}),/*#__PURE__*/_jsxs(Form,{action:\"#\",style:{display:estadoFormulario?\"\":\"none\"},children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"numero\",children:\"1.\"}),\" Incriccion punto de venta\"]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormGroup,{controlId:\"NombreCliente\",label:\"Nombre del Cliente\",type:\"text\",placeholder:\"Nombre del Cliente\",name:\"NombreCliente\",value:NombreCliente,required:true,onChange:function onChange(e){return setNombreCliente(e.target.value.replace(/[^a-zA-Z\\d]/ig,\"\"));}})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormGroup,{controlId:\"NIT\",label:\"NIT\",type:\"text\",placeholder:\"NIT\",name:\"NIT\",value:Nit,required:true,onChange:function onChange(e){return setNit(e.target.value.replace(/[^a-zA-Z\\d]/ig,\"\"));}})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormGroup,{controlId:\"Nombre del punto\",label:\"Nombre del punto\",type:\"text\",placeholder:\"Nombre del punto\",name:\"NombreDelPunto\",value:NombreDelPunto,onChange:function onChange(e){return setNombreDelPunto(e.target.value.replace(/[^a-zA-Z\\d]/ig,\"\"));}})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormGroup,{controlId:\"Nombre del equipo\",label:\"Nombre del equipo\",type:\"text\",placeholder:\"Nombre del equipo\",name:\"NombreDelEquipo\",value:NombreDelEquipo,onChange:function onChange(e){return setNombreDelEquipo(e.target.value.replace(/[^a-zA-Z\\d]/ig,\"\"));}})})}),/*#__PURE__*/_jsx(Row,{style:{marginTop:\"9%\"},children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormSelect,{onChange:function onChange(e){return setCiudad(e.target.value);},select:dataCiudad})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormGroup,{controlId:\"Promotor\",label:\"Promotor\",type:\"text\",placeholder:\"Promotor\",name:\"Promotor\",value:Promotor,onChange:function onChange(e){return setPromotor(e.target.value.replace(/[^a-zA-Z\\d]/ig,\"\"));}})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormGroup,{controlId:\"RTC\",label:\"RTC\",type:\"text\",placeholder:\"RTC\",name:\"RTC\",value:RTC,onChange:function onChange(e){return rtc(e);}})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormGroup,{controlId:\"Capitan\",label:\"Capitan y/o Usuario (Solo Minusculas)\",type:\"text\",placeholder:\"Capitan y/o Usuario (Solo Minusculas)\",name:\"Capitan\",value:Capitan,onChange:function onChange(e){return setCapitan(e.target.value.replace(/[^a-zA-Z\\d]/ig,\"\"));}})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Check,{onChange:function onChange(e){return setCheck(e.target.value);},type:\"checkbox\",label:\"He leido y acepto las politicas de Tratamiento de Datos Personales Conoce los terminos y condiciones \",required:true})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(ButtonCuston,{variant:\"primary\",onClick:function onClick(){return enviar(_this);}//disabled={isLoading}\n,text:isLoading?'...loading':'Seguimiento'})})]})]});}export default Todo;","map":{"version":3,"sources":["C:/Users/Manuel Fernando/Documents/GitHub/PruebaLegger/from/src/components/pages/Formulario/index.js"],"names":["useEffect","useState","Form","Row","Col","Container","View","ButtonCuston","FormGroup","FormSelect","axios","ExportReactCSV","Todo","props","NombreCliente","setNombreCliente","Nit","setNit","NombreDelPunto","setNombreDelPunto","NombreDelEquipo","setNombreDelEquipo","Ciudad","setCiudad","value","text","dataCiudad","setDataCiudad","Promotor","setPromotor","RTC","setRTC","Capitan","setCapitan","estadoFormulario","setEstadoFormulario","ip","setIP","excel","setExcel","check","setCheck","isLoading","rtc","data","target","Number","isInteger","replace","console","log","getip","get","res","IPv4","validar","alert","undefined","enviar","customers","requestOptions","method","headers","Headers","body","fetch","then","response","json","success","custs","i","push","display","textAlign","e","marginTop"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { Form, Row, Col, Container, View } from 'react-bootstrap'\r\nimport ButtonCuston  from '../../atoms/Button/Button';\r\nimport FormGroup from '../../molecules/FormGroup/FormGroup';\r\nimport FormSelect from '../../atoms/FormSelect/FormSelect';\r\nimport axios from 'axios'\r\nimport { ExportReactCSV } from '../../molecules/excel/ExportReactCSV'\r\n\r\nfunction Todo(props) {\r\n  const [ NombreCliente, setNombreCliente ] = useState(\"\")\r\n  const [ Nit, setNit ] = useState(\"\")\r\n  const [ NombreDelPunto, setNombreDelPunto ] = useState(\"\")\r\n  const [ NombreDelEquipo, setNombreDelEquipo ] = useState(\"\")\r\n  const [ Ciudad, setCiudad ] = useState(\"\")\r\n  const [ dataCiudad, setDataCiudad ] = useState([\r\n    {value:\"Bogota D.C\",text:\"Bogota D.C\"},\r\n    {value:\"Tarqui\",text:\"Tarqui\"},\r\n    {value:\"Garzon\",text:\"Garzon\"},\r\n  ])\r\n  const [ Promotor, setPromotor ] = useState(\"\")\r\n  const [ RTC, setRTC ] = useState(\"\")\r\n  const [ Capitan, setCapitan ] = useState(\"\")\r\n  const [ estadoFormulario, setEstadoFormulario ] = useState(true)\r\n  const [ip, setIP] = useState('');\r\n  const [excel, setExcel] = useState([]);\r\n  const [check, setCheck] = useState();\r\n\r\n  var isLoading = false;\r\n\r\n  const rtc = data => {\r\n    if (data.target.value < 0) {\r\n      setRTC(\"\")\r\n    } else if(Number.isInteger(data.target.value)) {\r\n      setRTC(\"\")\r\n    } else {\r\n      setRTC(data.target.value.replace(/[^0-9\\d]/ig, \"\"))\r\n    }\r\n    console.log(data.target.value.replace(/[^0-9\\d]/ig, \"\"));\r\n  }\r\nconst getip = async () => {\r\n    const res = await axios.get('https://geolocation-db.com/json/')\r\n    console.log(res.data.IPv4);\r\n    setIP(res.data.IPv4)\r\n  }\r\n  \r\n  useEffect( () => {\r\n    \r\n    getip()\r\n\r\n  }, [])\r\n  const validar = () =>{\r\n    if (NombreCliente == \"\") {\r\n      alert(\"El Nombre Cliente no puede ser vacio\");\r\n      return false;\r\n    } else if(Nit == \"\"){\r\n      alert(\"El Nit no puede ser vacio\");\r\n      return false;\r\n    }else if(check == undefined){\r\n      alert(\"Tienes que aceptar los terminos y condiciones.\");\r\n      return false;\r\n    }else{\r\n      return true;\r\n    }\r\n  }\r\n  const enviar = async(data) => {\r\n    console.log(check);\r\n    if (validar()) {\r\n      setEstadoFormulario(false);\r\n      setExcel(customers());\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n          'Content-Type': 'application/x-www-form-urlencoded'}),\r\n        body: \"NombreCliente=\"+NombreCliente+\"&\"+\r\n        \"NIT=\"+ Nit+\"&\"+\r\n        \"NombreDelPunto=\"+ NombreDelPunto+\"&\"+\r\n        \"NombreDelEquipo=\"+ NombreDelEquipo+\"&\"+\r\n        \"Ciudad=\"+ Ciudad+\"&\"+\r\n        \"Promotor=\"+ Promotor+\"&\"+\r\n        \"RTC=\"+ RTC+\"&\"+\r\n        \"Capitan=\"+ Capitan,\r\n    };\r\n      \r\n    await fetch('http://127.0.0.1/', requestOptions)\r\n        .then(response => response.json()).then(res => {\r\n          if (res.success) {\r\n            console.log(res);\r\n          }else{\r\n          //mensaje de error\r\n          }\r\n        });\r\n    } else {\r\n      \r\n    }\r\n    \r\n  }\r\n  const customers = () => {\r\n    let custs = []\r\n    for (let i = 0; i < 1; i++) {\r\n      custs.push({\r\n        NombreCliente: NombreCliente, \r\n        Nit: Nit,\r\n        NombreDelPunto: NombreDelPunto, \r\n        NombreDelEquipo: NombreDelEquipo, \r\n        Ciudad: Ciudad,\r\n        Promotor: Promotor,\r\n        RTC: RTC,\r\n        Capitan: Capitan,\r\n        ip: ip\r\n      });\r\n    }\r\n    console.log(custs);\r\n    return custs;\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <div style={{ display: !estadoFormulario ? \"\" : \"none\", textAlign: \"center\" }}>\r\n        <div>Gracias</div>        \r\n        <div className=\"col-md-4 center\">\r\n          <ExportReactCSV csvData={excel} fileName={\"DatosUsuario\"} />\r\n        </div>\r\n      </div>\r\n      <Form action=\"#\" style={{ display: estadoFormulario ? \"\" : \"none\" }}>\r\n        <Row>\r\n          <label><label className=\"numero\">1.</label> Incriccion punto de venta</label>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"NombreCliente\"\r\n              label='Nombre del Cliente' \r\n              type=\"text\"\r\n              placeholder=\"Nombre del Cliente\"\r\n              name='NombreCliente'\r\n              value={NombreCliente}\r\n              required={true}\r\n              onChange={(e) => setNombreCliente(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"NIT\"\r\n              label='NIT' \r\n              type=\"text\"\r\n              placeholder=\"NIT\"\r\n              name='NIT'\r\n              value={Nit}\r\n              required={true}\r\n              onChange={(e) => setNit(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"Nombre del punto\"\r\n              label='Nombre del punto' \r\n              type=\"text\"\r\n              placeholder=\"Nombre del punto\"\r\n              name='NombreDelPunto'\r\n              value={NombreDelPunto}\r\n              onChange={(e) => setNombreDelPunto(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"Nombre del equipo\"\r\n              label='Nombre del equipo' \r\n              type=\"text\"\r\n              placeholder=\"Nombre del equipo\"\r\n              name='NombreDelEquipo'\r\n              value={NombreDelEquipo}\r\n              onChange={(e) => setNombreDelEquipo(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row style={{ marginTop: \"9%\" }}>\r\n          <Col>\r\n            <FormSelect \r\n              onChange={(e) => setCiudad(e.target.value)}\r\n              select={dataCiudad}/>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"Promotor\"\r\n              label='Promotor' \r\n              type=\"text\"\r\n              placeholder=\"Promotor\"\r\n              name='Promotor'\r\n              value={Promotor}\r\n              onChange={(e) => setPromotor(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"RTC\"\r\n              label='RTC' \r\n              type=\"text\"\r\n              placeholder=\"RTC\"\r\n              name='RTC'\r\n              value={RTC}\r\n              onChange={(e) => rtc(e)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"Capitan\"\r\n              label='Capitan y/o Usuario (Solo Minusculas)' \r\n              type=\"text\"\r\n              placeholder=\"Capitan y/o Usuario (Solo Minusculas)\"\r\n              name='Capitan'\r\n              value={Capitan}\r\n              onChange={(e) => setCapitan(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Check \r\n          onChange={(e) => setCheck(e.target.value)}\r\n          type=\"checkbox\" \r\n          label=\"He leido y acepto las politicas de Tratamiento de Datos Personales Conoce los terminos y condiciones \" required/>\r\n        </Form.Group>\r\n        </Row>\r\n        <Row>\r\n        <ButtonCuston \r\n            variant=\"primary\" \r\n            onClick={() => enviar(this)}\r\n            //disabled={isLoading}\r\n            text={isLoading ? '...loading' : 'Seguimiento'}\r\n            />\r\n        </Row>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Todo"]},"metadata":{},"sourceType":"module"}