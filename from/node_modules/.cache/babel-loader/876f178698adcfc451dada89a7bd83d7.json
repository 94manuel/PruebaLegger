{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Manuel Fernando\\\\Documents\\\\GitHub\\\\PruebaLegger\\\\from\\\\src\\\\components\\\\pages\\\\Formulario\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Form, Row, Col, Container, View } from 'react-bootstrap';\nimport ButtonCuston from '../../atoms/Button/Button';\nimport FormGroup from '../../molecules/FormGroup/FormGroup';\nimport FormSelect from '../../atoms/FormSelect/FormSelect';\nimport axios from 'axios';\nimport { ExportReactCSV } from '../../molecules/excel/ExportReactCSV';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Todo(props) {\n  _s();\n\n  const [NombreCliente, setNombreCliente] = useState(\"\");\n  const [Nit, setNit] = useState(\"\");\n  const [NombreDelPunto, setNombreDelPunto] = useState(\"\");\n  const [NombreDelEquipo, setNombreDelEquipo] = useState(\"\");\n  const [Ciudad, setCiudad] = useState(\"\");\n  const [dataCiudad, setDataCiudad] = useState([{\n    value: \"Bogota D.C\",\n    text: \"Bogota D.C\"\n  }, {\n    value: \"Tarqui\",\n    text: \"Tarqui\"\n  }, {\n    value: \"Garzon\",\n    text: \"Garzon\"\n  }]);\n  const [Promotor, setPromotor] = useState(\"\");\n  const [RTC, setRTC] = useState(\"\");\n  const [Capitan, setCapitan] = useState(\"\");\n  const [estadoFormulario, setEstadoFormulario] = useState(true);\n  const [ip, setIP] = useState('');\n  const [excel, setExcel] = useState([]);\n  const [check, setCheck] = useState();\n  var isLoading = false;\n\n  const rtc = data => {\n    if (data.target.value < 0) {\n      setRTC(\"\");\n    } else if (Number.isInteger(data.target.value)) {\n      setRTC(\"\");\n    } else {\n      setRTC(data.target.value.replace(/[^0-9\\d]/ig, \"\"));\n    }\n\n    console.log(data.target.value.replace(/[^0-9\\d]/ig, \"\"));\n  };\n\n  const getip = async () => {\n    const res = await axios.get('https://geolocation-db.com/json/');\n    console.log(res.data.IPv4);\n    setIP(res.data.IPv4);\n  };\n\n  useEffect(() => {\n    getip();\n  }, []);\n\n  const validar = () => {\n    if (NombreCliente == \"\") {\n      alert(\"El Nombre Cliente no puede ser vacio\");\n      return false;\n    } else if (Nit == \"\") {\n      alert(\"El Nit no puede ser vacio\");\n      return false;\n    } else if (check == undefined) {\n      alert(\"Tienes que aceptar los terminos y condiciones.\");\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  const enviar = async data => {\n    console.log(check);\n\n    if (validar()) {\n      setEstadoFormulario(false);\n      setExcel(customers());\n      const requestOptions = {\n        method: 'POST',\n        headers: new Headers({\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }),\n        body: \"NombreCliente=\" + NombreCliente + \"&\" + \"NIT=\" + Nit + \"&\" + \"NombreDelPunto=\" + NombreDelPunto + \"&\" + \"NombreDelEquipo=\" + NombreDelEquipo + \"&\" + \"Ciudad=\" + Ciudad + \"&\" + \"Promotor=\" + Promotor + \"&\" + \"RTC=\" + RTC + \"&\" + \"Capitan=\" + Capitan\n      };\n      await fetch('http://127.0.0.1/', requestOptions).then(response => response.json()).then(res => {\n        if (res.success) {\n          console.log(res);\n        } else {//mensaje de error\n        }\n      }).catch(function () {\n        alert(\"Can't connect to backend try latter\");\n      });\n    } else {}\n  };\n\n  const customers = () => {\n    let custs = [];\n\n    for (let i = 0; i < 1; i++) {\n      custs.push({\n        NombreCliente: NombreCliente,\n        Nit: Nit,\n        NombreDelPunto: NombreDelPunto,\n        NombreDelEquipo: NombreDelEquipo,\n        Ciudad: Ciudad,\n        Promotor: Promotor,\n        RTC: RTC,\n        Capitan: Capitan,\n        ip: ip\n      });\n    }\n\n    console.log(custs);\n    return custs;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: !estadoFormulario ? \"\" : \"none\",\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Gracias\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 center\",\n        children: /*#__PURE__*/_jsxDEV(ExportReactCSV, {\n          csvData: excel,\n          fileName: \"DatosUsuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      action: \"#\",\n      style: {\n        display: estadoFormulario ? \"\" : \"none\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"numero\",\n            children: \"1.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 18\n          }, this), \" Incriccion punto de venta\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(FormGroup, {\n            controlId: \"NombreCliente\",\n            label: \"Nombre del Cliente\",\n            type: \"text\",\n            placeholder: \"Nombre del Cliente\",\n            name: \"NombreCliente\",\n            value: NombreCliente,\n            required: true,\n            onChange: e => setNombreCliente(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(FormGroup, {\n            controlId: \"NIT\",\n            label: \"NIT\",\n            type: \"text\",\n            placeholder: \"NIT\",\n            name: \"NIT\",\n            value: Nit,\n            required: true,\n            onChange: e => setNit(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(FormGroup, {\n            controlId: \"Nombre del punto\",\n            label: \"Nombre del punto\",\n            type: \"text\",\n            placeholder: \"Nombre del punto\",\n            name: \"NombreDelPunto\",\n            value: NombreDelPunto,\n            onChange: e => setNombreDelPunto(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(FormGroup, {\n            controlId: \"Nombre del equipo\",\n            label: \"Nombre del equipo\",\n            type: \"text\",\n            placeholder: \"Nombre del equipo\",\n            name: \"NombreDelEquipo\",\n            value: NombreDelEquipo,\n            onChange: e => setNombreDelEquipo(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          marginTop: \"9%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(FormSelect, {\n            onChange: e => setCiudad(e.target.value),\n            select: dataCiudad\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(FormGroup, {\n            controlId: \"Promotor\",\n            label: \"Promotor\",\n            type: \"text\",\n            placeholder: \"Promotor\",\n            name: \"Promotor\",\n            value: Promotor,\n            onChange: e => setPromotor(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(FormGroup, {\n            controlId: \"RTC\",\n            label: \"RTC\",\n            type: \"text\",\n            placeholder: \"RTC\",\n            name: \"RTC\",\n            value: RTC,\n            onChange: e => rtc(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(FormGroup, {\n            controlId: \"Capitan\",\n            label: \"Capitan y/o Usuario (Solo Minusculas)\",\n            type: \"text\",\n            placeholder: \"Capitan y/o Usuario (Solo Minusculas)\",\n            name: \"Capitan\",\n            value: Capitan,\n            onChange: e => setCapitan(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Form.Check, {\n            onChange: e => setCheck(e.target.value),\n            type: \"checkbox\",\n            label: \"He leido y acepto las politicas de Tratamiento de Datos Personales Conoce los terminos y condiciones \",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(ButtonCuston, {\n          variant: \"primary\",\n          onClick: () => enviar(this) //disabled={isLoading}\n          ,\n          text: isLoading ? '...loading' : 'Seguimiento'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Todo, \"nSrqWQI/r8ifS84lPXmAy/zUX8k=\");\n\n_c = Todo;\nexport default Todo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"sources":["C:/Users/Manuel Fernando/Documents/GitHub/PruebaLegger/from/src/components/pages/Formulario/index.js"],"names":["useEffect","useState","Form","Row","Col","Container","View","ButtonCuston","FormGroup","FormSelect","axios","ExportReactCSV","Todo","props","NombreCliente","setNombreCliente","Nit","setNit","NombreDelPunto","setNombreDelPunto","NombreDelEquipo","setNombreDelEquipo","Ciudad","setCiudad","dataCiudad","setDataCiudad","value","text","Promotor","setPromotor","RTC","setRTC","Capitan","setCapitan","estadoFormulario","setEstadoFormulario","ip","setIP","excel","setExcel","check","setCheck","isLoading","rtc","data","target","Number","isInteger","replace","console","log","getip","res","get","IPv4","validar","alert","undefined","enviar","customers","requestOptions","method","headers","Headers","body","fetch","then","response","json","success","catch","custs","i","push","display","textAlign","e","marginTop"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,SAAzB,EAAoCC,IAApC,QAAgD,iBAAhD;AACA,OAAOC,YAAP,MAA0B,2BAA1B;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,sCAA/B;;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA;;AACnB,QAAM,CAAEC,aAAF,EAAiBC,gBAAjB,IAAsCd,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAAEe,GAAF,EAAOC,MAAP,IAAkBhB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAAEiB,cAAF,EAAkBC,iBAAlB,IAAwClB,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAAEmB,eAAF,EAAmBC,kBAAnB,IAA0CpB,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAAEqB,MAAF,EAAUC,SAAV,IAAwBtB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAAEuB,UAAF,EAAcC,aAAd,IAAgCxB,QAAQ,CAAC,CAC7C;AAACyB,IAAAA,KAAK,EAAC,YAAP;AAAoBC,IAAAA,IAAI,EAAC;AAAzB,GAD6C,EAE7C;AAACD,IAAAA,KAAK,EAAC,QAAP;AAAgBC,IAAAA,IAAI,EAAC;AAArB,GAF6C,EAG7C;AAACD,IAAAA,KAAK,EAAC,QAAP;AAAgBC,IAAAA,IAAI,EAAC;AAArB,GAH6C,CAAD,CAA9C;AAKA,QAAM,CAAEC,QAAF,EAAYC,WAAZ,IAA4B5B,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAAE6B,GAAF,EAAOC,MAAP,IAAkB9B,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAAE+B,OAAF,EAAWC,UAAX,IAA0BhC,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAEiC,gBAAF,EAAoBC,mBAApB,IAA4ClC,QAAQ,CAAC,IAAD,CAA1D;AACA,QAAM,CAACmC,EAAD,EAAKC,KAAL,IAAcpC,QAAQ,CAAC,EAAD,CAA5B;AACA,QAAM,CAACqC,KAAD,EAAQC,QAAR,IAAoBtC,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACuC,KAAD,EAAQC,QAAR,IAAoBxC,QAAQ,EAAlC;AAEA,MAAIyC,SAAS,GAAG,KAAhB;;AAEA,QAAMC,GAAG,GAAGC,IAAI,IAAI;AAClB,QAAIA,IAAI,CAACC,MAAL,CAAYnB,KAAZ,GAAoB,CAAxB,EAA2B;AACzBK,MAAAA,MAAM,CAAC,EAAD,CAAN;AACD,KAFD,MAEO,IAAGe,MAAM,CAACC,SAAP,CAAiBH,IAAI,CAACC,MAAL,CAAYnB,KAA7B,CAAH,EAAwC;AAC7CK,MAAAA,MAAM,CAAC,EAAD,CAAN;AACD,KAFM,MAEA;AACLA,MAAAA,MAAM,CAACa,IAAI,CAACC,MAAL,CAAYnB,KAAZ,CAAkBsB,OAAlB,CAA0B,YAA1B,EAAwC,EAAxC,CAAD,CAAN;AACD;;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACC,MAAL,CAAYnB,KAAZ,CAAkBsB,OAAlB,CAA0B,YAA1B,EAAwC,EAAxC,CAAZ;AACD,GATD;;AAUF,QAAMG,KAAK,GAAG,YAAY;AACtB,UAAMC,GAAG,GAAG,MAAM1C,KAAK,CAAC2C,GAAN,CAAU,kCAAV,CAAlB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACR,IAAJ,CAASU,IAArB;AACAjB,IAAAA,KAAK,CAACe,GAAG,CAACR,IAAJ,CAASU,IAAV,CAAL;AACD,GAJH;;AAMEtD,EAAAA,SAAS,CAAE,MAAM;AAEfmD,IAAAA,KAAK;AAEN,GAJQ,EAIN,EAJM,CAAT;;AAKA,QAAMI,OAAO,GAAG,MAAK;AACnB,QAAIzC,aAAa,IAAI,EAArB,EAAyB;AACvB0C,MAAAA,KAAK,CAAC,sCAAD,CAAL;AACA,aAAO,KAAP;AACD,KAHD,MAGO,IAAGxC,GAAG,IAAI,EAAV,EAAa;AAClBwC,MAAAA,KAAK,CAAC,2BAAD,CAAL;AACA,aAAO,KAAP;AACD,KAHM,MAGD,IAAGhB,KAAK,IAAIiB,SAAZ,EAAsB;AAC1BD,MAAAA,KAAK,CAAC,gDAAD,CAAL;AACA,aAAO,KAAP;AACD,KAHK,MAGD;AACH,aAAO,IAAP;AACD;AACF,GAbD;;AAcA,QAAME,MAAM,GAAG,MAAMd,IAAN,IAAe;AAC5BK,IAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;;AACA,QAAIe,OAAO,EAAX,EAAe;AACbpB,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACAI,MAAAA,QAAQ,CAACoB,SAAS,EAAV,CAAR;AACA,YAAMC,cAAc,GAAG;AACrBC,QAAAA,MAAM,EAAE,MADa;AAErBC,QAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,0BAAgB;AADG,SAAZ,CAFY;AAIrBC,QAAAA,IAAI,EAAE,mBAAiBlD,aAAjB,GAA+B,GAA/B,GACN,MADM,GACEE,GADF,GACM,GADN,GAEN,iBAFM,GAEaE,cAFb,GAE4B,GAF5B,GAGN,kBAHM,GAGcE,eAHd,GAG8B,GAH9B,GAIN,SAJM,GAIKE,MAJL,GAIY,GAJZ,GAKN,WALM,GAKOM,QALP,GAKgB,GALhB,GAMN,MANM,GAMEE,GANF,GAMM,GANN,GAON,UAPM,GAOME;AAXS,OAAvB;AAcF,YAAMiC,KAAK,CAAC,mBAAD,EAAsBL,cAAtB,CAAL,CACDM,IADC,CACIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADhB,EACiCF,IADjC,CACsCd,GAAG,IAAI;AAC7C,YAAIA,GAAG,CAACiB,OAAR,EAAiB;AACfpB,UAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,SAFD,MAEK,CACL;AACC;AACF,OAPC,EAQDkB,KARC,CAQK,YAAW;AAChBd,QAAAA,KAAK,CAAC,qCAAD,CAAL;AACD,OAVC,CAAN;AAWC,KA5BD,MA4BO,CAEN;AAEF,GAlCD;;AAmCA,QAAMG,SAAS,GAAG,MAAM;AACtB,QAAIY,KAAK,GAAG,EAAZ;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1BD,MAAAA,KAAK,CAACE,IAAN,CAAW;AACT3D,QAAAA,aAAa,EAAEA,aADN;AAETE,QAAAA,GAAG,EAAEA,GAFI;AAGTE,QAAAA,cAAc,EAAEA,cAHP;AAITE,QAAAA,eAAe,EAAEA,eAJR;AAKTE,QAAAA,MAAM,EAAEA,MALC;AAMTM,QAAAA,QAAQ,EAAEA,QAND;AAOTE,QAAAA,GAAG,EAAEA,GAPI;AAQTE,QAAAA,OAAO,EAAEA,OARA;AASTI,QAAAA,EAAE,EAAEA;AATK,OAAX;AAWD;;AACDa,IAAAA,OAAO,CAACC,GAAR,CAAYqB,KAAZ;AACA,WAAOA,KAAP;AACD,GAjBD;;AAoBA,sBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BACE;AAAK,MAAA,KAAK,EAAE;AAAEG,QAAAA,OAAO,EAAE,CAACxC,gBAAD,GAAoB,EAApB,GAAyB,MAApC;AAA4CyC,QAAAA,SAAS,EAAE;AAAvD,OAAZ;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,+BACE,QAAC,cAAD;AAAgB,UAAA,OAAO,EAAErC,KAAzB;AAAgC,UAAA,QAAQ,EAAE;AAA1C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAOE,QAAC,IAAD;AAAM,MAAA,MAAM,EAAC,GAAb;AAAiB,MAAA,KAAK,EAAE;AAAEoC,QAAAA,OAAO,EAAExC,gBAAgB,GAAG,EAAH,GAAQ;AAAnC,OAAxB;AAAA,8BACE,QAAC,GAAD;AAAA,+BACE;AAAA,kCAAO;AAAO,YAAA,SAAS,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,GAAD;AAAA,+BACE,QAAC,GAAD;AAAA,iCACE,QAAC,SAAD;AACE,YAAA,SAAS,EAAC,eADZ;AAEE,YAAA,KAAK,EAAC,oBAFR;AAGE,YAAA,IAAI,EAAC,MAHP;AAIE,YAAA,WAAW,EAAC,oBAJd;AAKE,YAAA,IAAI,EAAC,eALP;AAME,YAAA,KAAK,EAAEpB,aANT;AAOE,YAAA,QAAQ,EAAE,IAPZ;AAQE,YAAA,QAAQ,EAAG8D,CAAD,IAAO7D,gBAAgB,CAAC6D,CAAC,CAAC/B,MAAF,CAASnB,KAAT,CAAesB,OAAf,CAAuB,eAAvB,EAAwC,EAAxC,CAAD;AARnC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF,eAkBE,QAAC,GAAD;AAAA,+BACE,QAAC,GAAD;AAAA,iCACE,QAAC,SAAD;AACE,YAAA,SAAS,EAAC,KADZ;AAEE,YAAA,KAAK,EAAC,KAFR;AAGE,YAAA,IAAI,EAAC,MAHP;AAIE,YAAA,WAAW,EAAC,KAJd;AAKE,YAAA,IAAI,EAAC,KALP;AAME,YAAA,KAAK,EAAEhC,GANT;AAOE,YAAA,QAAQ,EAAE,IAPZ;AAQE,YAAA,QAAQ,EAAG4D,CAAD,IAAO3D,MAAM,CAAC2D,CAAC,CAAC/B,MAAF,CAASnB,KAAT,CAAesB,OAAf,CAAuB,eAAvB,EAAwC,EAAxC,CAAD;AARzB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAlBF,eAgCE,QAAC,GAAD;AAAA,+BACE,QAAC,GAAD;AAAA,iCACE,QAAC,SAAD;AACE,YAAA,SAAS,EAAC,kBADZ;AAEE,YAAA,KAAK,EAAC,kBAFR;AAGE,YAAA,IAAI,EAAC,MAHP;AAIE,YAAA,WAAW,EAAC,kBAJd;AAKE,YAAA,IAAI,EAAC,gBALP;AAME,YAAA,KAAK,EAAE9B,cANT;AAOE,YAAA,QAAQ,EAAG0D,CAAD,IAAOzD,iBAAiB,CAACyD,CAAC,CAAC/B,MAAF,CAASnB,KAAT,CAAesB,OAAf,CAAuB,eAAvB,EAAwC,EAAxC,CAAD;AAPpC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAhCF,eA6CE,QAAC,GAAD;AAAA,+BACE,QAAC,GAAD;AAAA,iCACE,QAAC,SAAD;AACE,YAAA,SAAS,EAAC,mBADZ;AAEE,YAAA,KAAK,EAAC,mBAFR;AAGE,YAAA,IAAI,EAAC,MAHP;AAIE,YAAA,WAAW,EAAC,mBAJd;AAKE,YAAA,IAAI,EAAC,iBALP;AAME,YAAA,KAAK,EAAE5B,eANT;AAOE,YAAA,QAAQ,EAAGwD,CAAD,IAAOvD,kBAAkB,CAACuD,CAAC,CAAC/B,MAAF,CAASnB,KAAT,CAAesB,OAAf,CAAuB,eAAvB,EAAwC,EAAxC,CAAD;AAPrC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA7CF,eA0DE,QAAC,GAAD;AAAK,QAAA,KAAK,EAAE;AAAE6B,UAAAA,SAAS,EAAE;AAAb,SAAZ;AAAA,+BACE,QAAC,GAAD;AAAA,iCACE,QAAC,UAAD;AACE,YAAA,QAAQ,EAAGD,CAAD,IAAOrD,SAAS,CAACqD,CAAC,CAAC/B,MAAF,CAASnB,KAAV,CAD5B;AAEE,YAAA,MAAM,EAAEF;AAFV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA1DF,eAiEE,QAAC,GAAD;AAAA,+BACE,QAAC,GAAD;AAAA,iCACE,QAAC,SAAD;AACE,YAAA,SAAS,EAAC,UADZ;AAEE,YAAA,KAAK,EAAC,UAFR;AAGE,YAAA,IAAI,EAAC,MAHP;AAIE,YAAA,WAAW,EAAC,UAJd;AAKE,YAAA,IAAI,EAAC,UALP;AAME,YAAA,KAAK,EAAEI,QANT;AAOE,YAAA,QAAQ,EAAGgD,CAAD,IAAO/C,WAAW,CAAC+C,CAAC,CAAC/B,MAAF,CAASnB,KAAT,CAAesB,OAAf,CAAuB,eAAvB,EAAwC,EAAxC,CAAD;AAP9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAjEF,eA8EE,QAAC,GAAD;AAAA,+BACE,QAAC,GAAD;AAAA,iCACE,QAAC,SAAD;AACE,YAAA,SAAS,EAAC,KADZ;AAEE,YAAA,KAAK,EAAC,KAFR;AAGE,YAAA,IAAI,EAAC,MAHP;AAIE,YAAA,WAAW,EAAC,KAJd;AAKE,YAAA,IAAI,EAAC,KALP;AAME,YAAA,KAAK,EAAElB,GANT;AAOE,YAAA,QAAQ,EAAG8C,CAAD,IAAOjC,GAAG,CAACiC,CAAD;AAPtB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA9EF,eA2FE,QAAC,GAAD;AAAA,+BACE,QAAC,GAAD;AAAA,iCACE,QAAC,SAAD;AACE,YAAA,SAAS,EAAC,SADZ;AAEE,YAAA,KAAK,EAAC,uCAFR;AAGE,YAAA,IAAI,EAAC,MAHP;AAIE,YAAA,WAAW,EAAC,uCAJd;AAKE,YAAA,IAAI,EAAC,SALP;AAME,YAAA,KAAK,EAAE5C,OANT;AAOE,YAAA,QAAQ,EAAG4C,CAAD,IAAO3C,UAAU,CAAC2C,CAAC,CAAC/B,MAAF,CAASnB,KAAT,CAAesB,OAAf,CAAuB,eAAvB,EAAwC,EAAxC,CAAD;AAP7B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA3FF,eAwGE,QAAC,GAAD;AAAA,+BACA,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,MAAtB;AAAA,iCACE,QAAC,IAAD,CAAM,KAAN;AACA,YAAA,QAAQ,EAAG4B,CAAD,IAAOnC,QAAQ,CAACmC,CAAC,CAAC/B,MAAF,CAASnB,KAAV,CADzB;AAEA,YAAA,IAAI,EAAC,UAFL;AAGA,YAAA,KAAK,EAAC,uGAHN;AAG8G,YAAA,QAAQ;AAHtH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAxGF,eAgHE,QAAC,GAAD;AAAA,+BACA,QAAC,YAAD;AACI,UAAA,OAAO,EAAC,SADZ;AAEI,UAAA,OAAO,EAAE,MAAMgC,MAAM,CAAC,IAAD,CAFzB,CAGI;AAHJ;AAII,UAAA,IAAI,EAAEhB,SAAS,GAAG,YAAH,GAAkB;AAJrC;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAhHF;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmID;;GAlPQ9B,I;;KAAAA,I;AAqPT,eAAeA,IAAf","sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { Form, Row, Col, Container, View } from 'react-bootstrap'\r\nimport ButtonCuston  from '../../atoms/Button/Button';\r\nimport FormGroup from '../../molecules/FormGroup/FormGroup';\r\nimport FormSelect from '../../atoms/FormSelect/FormSelect';\r\nimport axios from 'axios'\r\nimport { ExportReactCSV } from '../../molecules/excel/ExportReactCSV'\r\n\r\nfunction Todo(props) {\r\n  const [ NombreCliente, setNombreCliente ] = useState(\"\")\r\n  const [ Nit, setNit ] = useState(\"\")\r\n  const [ NombreDelPunto, setNombreDelPunto ] = useState(\"\")\r\n  const [ NombreDelEquipo, setNombreDelEquipo ] = useState(\"\")\r\n  const [ Ciudad, setCiudad ] = useState(\"\")\r\n  const [ dataCiudad, setDataCiudad ] = useState([\r\n    {value:\"Bogota D.C\",text:\"Bogota D.C\"},\r\n    {value:\"Tarqui\",text:\"Tarqui\"},\r\n    {value:\"Garzon\",text:\"Garzon\"},\r\n  ])\r\n  const [ Promotor, setPromotor ] = useState(\"\")\r\n  const [ RTC, setRTC ] = useState(\"\")\r\n  const [ Capitan, setCapitan ] = useState(\"\")\r\n  const [ estadoFormulario, setEstadoFormulario ] = useState(true)\r\n  const [ip, setIP] = useState('');\r\n  const [excel, setExcel] = useState([]);\r\n  const [check, setCheck] = useState();\r\n\r\n  var isLoading = false;\r\n\r\n  const rtc = data => {\r\n    if (data.target.value < 0) {\r\n      setRTC(\"\")\r\n    } else if(Number.isInteger(data.target.value)) {\r\n      setRTC(\"\")\r\n    } else {\r\n      setRTC(data.target.value.replace(/[^0-9\\d]/ig, \"\"))\r\n    }\r\n    console.log(data.target.value.replace(/[^0-9\\d]/ig, \"\"));\r\n  }\r\nconst getip = async () => {\r\n    const res = await axios.get('https://geolocation-db.com/json/')\r\n    console.log(res.data.IPv4);\r\n    setIP(res.data.IPv4)\r\n  }\r\n  \r\n  useEffect( () => {\r\n    \r\n    getip()\r\n\r\n  }, [])\r\n  const validar = () =>{\r\n    if (NombreCliente == \"\") {\r\n      alert(\"El Nombre Cliente no puede ser vacio\");\r\n      return false;\r\n    } else if(Nit == \"\"){\r\n      alert(\"El Nit no puede ser vacio\");\r\n      return false;\r\n    }else if(check == undefined){\r\n      alert(\"Tienes que aceptar los terminos y condiciones.\");\r\n      return false;\r\n    }else{\r\n      return true;\r\n    }\r\n  }\r\n  const enviar = async(data) => {\r\n    console.log(check);\r\n    if (validar()) {\r\n      setEstadoFormulario(false);\r\n      setExcel(customers());\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n          'Content-Type': 'application/x-www-form-urlencoded'}),\r\n        body: \"NombreCliente=\"+NombreCliente+\"&\"+\r\n        \"NIT=\"+ Nit+\"&\"+\r\n        \"NombreDelPunto=\"+ NombreDelPunto+\"&\"+\r\n        \"NombreDelEquipo=\"+ NombreDelEquipo+\"&\"+\r\n        \"Ciudad=\"+ Ciudad+\"&\"+\r\n        \"Promotor=\"+ Promotor+\"&\"+\r\n        \"RTC=\"+ RTC+\"&\"+\r\n        \"Capitan=\"+ Capitan,\r\n    };\r\n      \r\n    await fetch('http://127.0.0.1/', requestOptions)\r\n        .then(response => response.json()).then(res => {\r\n          if (res.success) {\r\n            console.log(res);\r\n          }else{\r\n          //mensaje de error\r\n          }\r\n        })\r\n        .catch(function() {\r\n          alert(\"Can't connect to backend try latter\");\r\n        });\r\n    } else {\r\n      \r\n    }\r\n    \r\n  }\r\n  const customers = () => {\r\n    let custs = []\r\n    for (let i = 0; i < 1; i++) {\r\n      custs.push({\r\n        NombreCliente: NombreCliente, \r\n        Nit: Nit,\r\n        NombreDelPunto: NombreDelPunto, \r\n        NombreDelEquipo: NombreDelEquipo, \r\n        Ciudad: Ciudad,\r\n        Promotor: Promotor,\r\n        RTC: RTC,\r\n        Capitan: Capitan,\r\n        ip: ip\r\n      });\r\n    }\r\n    console.log(custs);\r\n    return custs;\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <div style={{ display: !estadoFormulario ? \"\" : \"none\", textAlign: \"center\" }}>\r\n        <div>Gracias</div>        \r\n        <div className=\"col-md-4 center\">\r\n          <ExportReactCSV csvData={excel} fileName={\"DatosUsuario\"} />\r\n        </div>\r\n      </div>\r\n      <Form action=\"#\" style={{ display: estadoFormulario ? \"\" : \"none\" }}>\r\n        <Row>\r\n          <label><label className=\"numero\">1.</label> Incriccion punto de venta</label>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"NombreCliente\"\r\n              label='Nombre del Cliente' \r\n              type=\"text\"\r\n              placeholder=\"Nombre del Cliente\"\r\n              name='NombreCliente'\r\n              value={NombreCliente}\r\n              required={true}\r\n              onChange={(e) => setNombreCliente(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"NIT\"\r\n              label='NIT' \r\n              type=\"text\"\r\n              placeholder=\"NIT\"\r\n              name='NIT'\r\n              value={Nit}\r\n              required={true}\r\n              onChange={(e) => setNit(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"Nombre del punto\"\r\n              label='Nombre del punto' \r\n              type=\"text\"\r\n              placeholder=\"Nombre del punto\"\r\n              name='NombreDelPunto'\r\n              value={NombreDelPunto}\r\n              onChange={(e) => setNombreDelPunto(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"Nombre del equipo\"\r\n              label='Nombre del equipo' \r\n              type=\"text\"\r\n              placeholder=\"Nombre del equipo\"\r\n              name='NombreDelEquipo'\r\n              value={NombreDelEquipo}\r\n              onChange={(e) => setNombreDelEquipo(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row style={{ marginTop: \"9%\" }}>\r\n          <Col>\r\n            <FormSelect \r\n              onChange={(e) => setCiudad(e.target.value)}\r\n              select={dataCiudad}/>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"Promotor\"\r\n              label='Promotor' \r\n              type=\"text\"\r\n              placeholder=\"Promotor\"\r\n              name='Promotor'\r\n              value={Promotor}\r\n              onChange={(e) => setPromotor(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"RTC\"\r\n              label='RTC' \r\n              type=\"text\"\r\n              placeholder=\"RTC\"\r\n              name='RTC'\r\n              value={RTC}\r\n              onChange={(e) => rtc(e)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <FormGroup \r\n              controlId=\"Capitan\"\r\n              label='Capitan y/o Usuario (Solo Minusculas)' \r\n              type=\"text\"\r\n              placeholder=\"Capitan y/o Usuario (Solo Minusculas)\"\r\n              name='Capitan'\r\n              value={Capitan}\r\n              onChange={(e) => setCapitan(e.target.value.replace(/[^a-zA-Z\\d]/ig, \"\"))}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Check \r\n          onChange={(e) => setCheck(e.target.value)}\r\n          type=\"checkbox\" \r\n          label=\"He leido y acepto las politicas de Tratamiento de Datos Personales Conoce los terminos y condiciones \" required/>\r\n        </Form.Group>\r\n        </Row>\r\n        <Row>\r\n        <ButtonCuston \r\n            variant=\"primary\" \r\n            onClick={() => enviar(this)}\r\n            //disabled={isLoading}\r\n            text={isLoading ? '...loading' : 'Seguimiento'}\r\n            />\r\n        </Row>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Todo"]},"metadata":{},"sourceType":"module"}